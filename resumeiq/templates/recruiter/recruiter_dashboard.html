{% extends "base.html" %}
{% block title %}Recruiter Dashboard{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto bg-white p-8 rounded-lg shadow">

  <h2 class="text-2xl font-semibold mb-6">
    Recruiter Dashboard
  </h2>

  <!-- Upload -->
  <label class="block font-medium mb-2">Upload Resumes</label>
  <input
    type="file"
    id="resumes"
    multiple
    class="w-full p-3 border rounded mb-4"
  >

  <!-- JD -->
  <label class="block font-medium mb-2">Job Description</label>
  <textarea
    id="jd"
    rows="5"
    class="w-full p-3 border rounded mb-4"
    placeholder="Paste job description here"
  ></textarea>

  <div class="flex gap-4 mb-4">
    <button
      id="matchBtn"
      onclick="analyzeCandidates()"
      class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded"
    >
      Match Candidates
    </button>

    <button
      id="exportBtn"
      onclick="exportCSV()"
      class="hidden bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded"
    >
      Export CSV
    </button>
  </div>

  <div id="loading" class="hidden text-blue-600 text-sm mb-4">
    Matching candidates...
  </div>

  <!-- Results -->
  <table class="w-full mt-6 text-sm">
    <thead>
      <tr>
        <th class="p-3 text-left">Candidate</th>
        <th class="p-3 text-left">Match %</th>
        <th class="p-3 text-left">Best Role</th>
        <th class="p-3 text-left">Resume</th>
      </tr>
    </thead>
    <tbody id="resultTable"></tbody>
  </table>

</div>

<script src="{{ url_for('static', filename='js/recruiter.js') }}"></script>
{% endblock %}